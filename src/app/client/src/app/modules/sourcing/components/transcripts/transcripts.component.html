<div class="sb-modal-header">Add/edit Transcript</div>
<div class="sb-modal-content">
  <div class="dynamicHeight">
    <div class="ui tweleve wide column mb-20" *ngIf="loader">
      <app-loader></app-loader>
    </div>
    <div *ngIf="!loader">
      <label class="mb-15">Add transcript for language</label>
      <form class="ui form" [formGroup]="transcriptForm">
        <div formArrayName="items" *ngFor="let item of transcriptForm.get('items')['controls']; let i = index;">
          <div class="ui grid" [formGroupName]="i">
            <div class="three wide column">
              <sui-select formControlName="language" (selectedOptionChange)="languageChange($event, i)"
                placeholder="Select language" [options]="languageOptions" class="selection" #selectRef>
                <sui-select-option *ngFor="let option of selectRef.filteredOptions" [value]="option">
                </sui-select-option>
              </sui-select>
            </div>
            <div class="seven wide column">
              <div [class.block-hide]="item.controls.fileName.value" class="sb-before-upload-section">
                <button class="sb-btn sb-btn-link sb-left-icon-btn p-0">
                  <span class="sb-before-upload-input pl-15 sb-color-primary fs-0-785 mouse-pointer"><i
                      class="fa fa-paperclip"></i>Attach file</span>
                  <input formControlName="transcriptFile" id="attachFileInput{{i}}" (change)="attachFile($event, i)" [accept]="acceptFileExtensions" type="file" #transcriptFileInput>
                </button>
                <div class="sb-color-error fsmall">
                  <p class="fs-0-785"></p>
                </div>
              </div>
              <!--End - Before Upload File Field-->

              <!--Start - After Upload File Field-->
              <div [class.block-hide]="!item.controls.fileName.value" class="sb-after-upload-section">
                <div class="sb-after-upload-field d-flex bradius-2">
                  <div class="pl-10 py-10 fs-0-785 cursor-pointer d-flex"><i class="file icon"></i>
                    <div class="sb__ellipsis w-230">
                      <input formControlName="fileName" type="hidden" #fileNameControl>
                      {{ fileNameControl?.value }}
                    </div>
                  </div>
                  <button class="sb-after-upload-button sb-btn sb-btn-link sb-min-width-auto mouse-pointer"
                    (click)="replaceFile(i)"><i class="icon refresh sb-color-primary"></i>
                  </button>
                  <button *ngIf="identifierControl.value" (click)="download(identifierControl.value)"
                    class="sb-after-upload-download sb-btn sb-btn-link mouse-pointer sb-min-width-auto">
                    <i class="download icon sb-color-primary"></i>
                  </button>
                  <button class="sb-after-upload-delete sb-btn sb-btn-link mouse-pointer sb-min-width-auto"
                    (click)="reset(i)"><i class="trash icon sb-color-primary"></i>
                  </button>
                </div>
              </div>
            </div>
            <input formControlName="identifier" type="hidden" #identifierControl>
          </div>
        </div>
        <!-- End - Before Upload File Field-->
      </form>
      <button type="button" class="ui basic button icon sb-color-primary mt-15" (click)="addItem()"><i
          class="plus icon"></i></button>
    </div>
  </div>
</div>
<div class="sb-modal-actions">
  <button class="sb-btn sb-btn-normal sb-btn-primary" (click)="done()" [disabled]="disableDoneBtn">Done</button>
  <button class="sb-btn sb-btn-normal" (click)="close()" [disabled]="disableDoneBtn">Close</button>
</div>
